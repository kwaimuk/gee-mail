<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">

    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

        //creating div section for subject
//attempt to see if array from mail-generator is showing up in this script

        console.log(geemails[1].sender);
       
        var Label1= "Date: ";
        var Label2= "Sender: ";
        var Label3= "Subject: ";
        var Label4= "Message: ";
        
function intSet(){
for ( i=0; i<geemails.length; i++){
 var gdate = document.createElement("div");
//creating id for div
gdate.id= "gdate";
gdate.className = "";

var main2 =document.getElementById("main2");


gdate.innerHTML= Label1 + geemails[i].date;

//add gsub into div "main2"
main2.appendChild(gdate);    

var gsender= document.createElement("div");
//creating id for div
gsender.id= "gsender";
gsender.className = "";

gsender.innerHTML= Label2 + geemails[i].sender;
//add gsub into div "main2"
main2.appendChild(gsender);

var gsubject= document.createElement("div");
//creating id for div
gsubject.id= "gsubject";
gsubject.className= "click1";

gsubject.innerHTML= Label3 + geemails[i].subject;
//add gsub into div "main2"
main2.appendChild(gsubject);

var gmessage= document.createElement("div");
//creating id for div
gmessage.id= "gmessage";
gmessage.className="toggl";

gmessage.innerHTML= Label4 + geemails[i].body;
//add gsub into div "main2"


gsubject.appendChild(gmessage);




}
sety();
}

intSet();

var mel =document.getElementsByClassName("click1");
for(i=0;i<mel.length;i++){
  mel[i].addEventListener("click",showMe);
  
}
/*Below was used to test the click*/
function showMe(){
	var dsp = this.querySelectorAll(".toggl")[0];
	       


	  if (dsp.style.display==="block"){
	dsp.style.display="none";
	}else{
		dsp.style.display="block";
		}
  }


setInterval (sety,10000);

function sety(){

	var newmessage = getNewMessage();
	/*console.log(getNewMessage());*/
geemails.push(getNewMessage());
console.log(geemails.length);
  var cc =geemails.length; 
document.getElementById("count").innerHTML="Count:"+cc;

var gdate2= document.createElement("div");
gdate2.id= "gdate2";
gdate2.className="";
gdate2.innerHTML= Label1 + newmessage.date;
main2.appendChild(gdate2);

var gsender2= document.createElement("div");
gsender2.id= "gsender2";
gsender2.className="";
gsender2.innerHTML= Label2 + newmessage.sender;
main2.appendChild(gsender2);

var gsubject2= document.createElement("div");
gsubject2.id= "gsubject2";
gsubject2.className="click1";
gsubject2.innerHTML= Label3 + newmessage.subject;
main2.appendChild(gsubject2);

var gmessage2= document.createElement("div");
gmessage2.id= "gmessage";
gmessage2.className="toggl";
gmessage2.innerHTML= Label4 + newmessage.body;
main2.appendChild(gmessage2);

  }


 
/*console.log(setInterval(getNewMessage,2000));*/

};
    </script>
	</head>
	<body>
		<div class="container" id="main">
			<h1 >Gee-Mail</h1>
		</div>
		<div class="border">

		<p id="count"></p> </div>

		<div class="container" id="main2">

		
		</div>

	</body>
</html>